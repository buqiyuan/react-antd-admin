var e=Object.defineProperty,n=Object.defineProperties,i=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,d=(n,i,c)=>i in n?e(n,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):n[i]=c,u=(e,n)=>{for(var i in n||(n={}))a.call(n,i)&&d(e,i,n[i]);if(c)for(var i of c(n))o.call(n,i)&&d(e,i,n[i]);return e},s=(e,c)=>n(e,i(c));import{b as l,d as _,M as t,a as m}from"./Table.890ed4f1.js";import{Z as f,b0 as r,b1 as g,b5 as h,r as p,j as y,Q as b,b9 as j,c as x,m as v,aT as k,P as z,by as w,T as I,B as O,ay as C,bQ as S,a$ as P}from"./vendor.0941f634.js";import{_ as q,u as T,g as M,a as N,c as R,b as E,d as F}from"./index.7ea4bc2a.js";import{_ as B,b as D,P as A}from"./role.f4316dde.js";import{_ as G,b as Q,a as U,P as V}from"./user.251d394e.js";import{I as $,c as K}from"./index.3ed70d1a.js";import{_ as L}from"./log.584128fc.js";import{_ as J}from"./online.35da8320.js";import"./map.5b6c362c.js";var W=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],Z=f.forwardRef((function(e,n){var i=e.fieldProps,c=e.unCheckedChildren,a=e.checkedChildren,o=e.proFieldProps,d=r(e,W);return f.createElement(l,g({valueType:"switch",mode:"edit",fieldProps:h({unCheckedChildren:c,checkedChildren:a},i),ref:n,valuePropName:"checked",proFieldProps:o,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},d))}));var H={id:"2184398",name:"vue3-antd",font_family:"iconfont",css_prefix_text:"icon-",description:"",glyphs:[{icon_id:"1059047",name:"读取数据库",font_class:"duqushujuku",unicode:"e67f",unicode_decimal:59007},{icon_id:"4347599",name:"icon_使用文档",font_class:"icon_shiyongwendang",unicode:"eb91",unicode_decimal:60305},{icon_id:"7239613",name:"ant-design",font_class:"ant-design",unicode:"e74d",unicode_decimal:59213},{icon_id:"10166326",name:"guide",font_class:"guide",unicode:"e630",unicode_decimal:58928},{icon_id:"12717509",name:"定时任务管理",font_class:"dingshirenwuguanli",unicode:"e611",unicode_decimal:58897},{icon_id:"11371039",name:"监控",font_class:"jiankong1",unicode:"e74c",unicode_decimal:59212},{icon_id:"17426976",name:"在线用户监控",font_class:"zaixianyonghujiankong",unicode:"e60a",unicode_decimal:58890},{icon_id:"20104510",name:"日志",font_class:"rizhi1",unicode:"e617",unicode_decimal:58903},{icon_id:"8605740",name:"角色权限",font_class:"jiaosequanxian",unicode:"e666",unicode_decimal:58982},{icon_id:"15992243",name:"链接",font_class:"externa-link",unicode:"e620",unicode_decimal:58912},{icon_id:"17606379",name:"柱状图",font_class:"zhuzhuangtu",unicode:"e6f5",unicode_decimal:59125},{icon_id:"17606380",name:"烛型图",font_class:"zhuxingtu",unicode:"e6f6",unicode_decimal:59126},{icon_id:"17606381",name:"BUG",font_class:"BUG",unicode:"e6f7",unicode_decimal:59127},{icon_id:"17606382",name:"桌面",font_class:"zhuomian",unicode:"e6f8",unicode_decimal:59128},{icon_id:"17606383",name:"组件使用",font_class:"zujianshiyong",unicode:"e6f9",unicode_decimal:59129},{icon_id:"17606384",name:"资源",font_class:"ziyuan",unicode:"e6fa",unicode_decimal:59130},{icon_id:"17606385",name:"字段管理",font_class:"ziduanguanli",unicode:"e6fb",unicode_decimal:59131},{icon_id:"17606386",name:"云",font_class:"yun",unicode:"e6fc",unicode_decimal:59132},{icon_id:"17606395",name:"分享",font_class:"fenxiang",unicode:"e6fd",unicode_decimal:59133},{icon_id:"17606397",name:"计算",font_class:"jisuan",unicode:"e6fe",unicode_decimal:59134},{icon_id:"17606398",name:"客户管理",font_class:"kehuguanli",unicode:"e6ff",unicode_decimal:59135},{icon_id:"17606399",name:"决策引擎",font_class:"jueceyinqing",unicode:"e700",unicode_decimal:59136},{icon_id:"17606400",name:"流程",font_class:"liucheng1",unicode:"e701",unicode_decimal:59137},{icon_id:"17606401",name:"脚本",font_class:"jiaoben",unicode:"e702",unicode_decimal:59138},{icon_id:"17606402",name:"工程",font_class:"gongcheng",unicode:"e703",unicode_decimal:59139},{icon_id:"17606403",name:"刷子-2",font_class:"shuazi-2",unicode:"e704",unicode_decimal:59140},{icon_id:"17606404",name:"权限",font_class:"quanxian",unicode:"e705",unicode_decimal:59141},{icon_id:"17606405",name:"刷子-1",font_class:"shuazi-1",unicode:"e706",unicode_decimal:59142},{icon_id:"17606406",name:"文件",font_class:"wenjian",unicode:"e707",unicode_decimal:59143},{icon_id:"17606407",name:"文件-增",font_class:"wenjian-zeng",unicode:"e708",unicode_decimal:59144},{icon_id:"17606408",name:"文件-展开",font_class:"wenjian-zhankai",unicode:"e709",unicode_decimal:59145},{icon_id:"17606409",name:"推送",font_class:"tuisong",unicode:"e70a",unicode_decimal:59146},{icon_id:"17606410",name:"纸箱",font_class:"zhixiang",unicode:"e70b",unicode_decimal:59147},{icon_id:"17606411",name:"运维",font_class:"yunwei",unicode:"e70c",unicode_decimal:59148},{icon_id:"17606412",name:"数据库",font_class:"shujuku1",unicode:"e70d",unicode_decimal:59149},{icon_id:"17606413",name:"文件-展现",font_class:"wenjian-zhanxian",unicode:"e70e",unicode_decimal:59150},{icon_id:"17606415",name:"文档",font_class:"wendang",unicode:"e70f",unicode_decimal:59151},{icon_id:"17606797",name:"复制",font_class:"fuzhi",unicode:"e710",unicode_decimal:59152},{icon_id:"17606798",name:"用户",font_class:"yonghu1",unicode:"e711",unicode_decimal:59153},{icon_id:"17606799",name:"放大",font_class:"fangda",unicode:"e712",unicode_decimal:59154},{icon_id:"17606800",name:"减少",font_class:"jianshao",unicode:"e713",unicode_decimal:59155},{icon_id:"17606801",name:"编辑",font_class:"bianji",unicode:"e714",unicode_decimal:59156},{icon_id:"17606802",name:"缩小",font_class:"suoxiao",unicode:"e715",unicode_decimal:59157},{icon_id:"17606803",name:"删除",font_class:"shanchu",unicode:"e716",unicode_decimal:59158},{icon_id:"17606881",name:"矩形-错误",font_class:"juxing-cuowu",unicode:"e717",unicode_decimal:59159},{icon_id:"17606882",name:"矩形-减",font_class:"juxing-jian",unicode:"e718",unicode_decimal:59160},{icon_id:"17606883",name:"矩形-更多",font_class:"juxing-gengduo",unicode:"e719",unicode_decimal:59161},{icon_id:"17606884",name:"矩形-增",font_class:"juxing-zeng",unicode:"e71a",unicode_decimal:59162},{icon_id:"17606885",name:"矩形-右",font_class:"juxing-you",unicode:"e71b",unicode_decimal:59163},{icon_id:"17606886",name:"矩形-文本",font_class:"juxing-wenben",unicode:"e71c",unicode_decimal:59164},{icon_id:"17606887",name:"矩形-通过",font_class:"juxing-tongguo",unicode:"e71d",unicode_decimal:59165},{icon_id:"17606888",name:"圆环-更多",font_class:"yuanhuan-gengduo",unicode:"e71e",unicode_decimal:59166},{icon_id:"17606889",name:"圆环-确认",font_class:"yuanhuan-queren",unicode:"e71f",unicode_decimal:59167},{icon_id:"17606890",name:"圆环-关闭",font_class:"yuanhuan-guanbi",unicode:"e720",unicode_decimal:59168},{icon_id:"17606891",name:"圆环-减",font_class:"yuanhuan-jian",unicode:"e721",unicode_decimal:59169},{icon_id:"17606892",name:"圆环-消息",font_class:"yuanhuan-xiaoxi",unicode:"e722",unicode_decimal:59170},{icon_id:"17606893",name:"圆环-增",font_class:"yuanhuan-zeng",unicode:"e723",unicode_decimal:59171},{icon_id:"17606894",name:"圆环-暂停",font_class:"yuanhuan-zanting",unicode:"e724",unicode_decimal:59172},{icon_id:"17606895",name:"圆环-左",font_class:"yuanhuan-zuo",unicode:"e725",unicode_decimal:59173},{icon_id:"17606896",name:"矩形-左",font_class:"juxing-zuo",unicode:"e726",unicode_decimal:59174},{icon_id:"17606897",name:"圆环-时间",font_class:"yuanhuan-shijian",unicode:"e727",unicode_decimal:59175},{icon_id:"17606898",name:"圆环-疑问",font_class:"yuanhuan-yiwen",unicode:"e728",unicode_decimal:59176},{icon_id:"17606899",name:"圆环-右",font_class:"yuanhuan-you",unicode:"e729",unicode_decimal:59177},{icon_id:"17606931",name:"圆环-减",font_class:"yuanhuan-jian1",unicode:"e72a",unicode_decimal:59178},{icon_id:"17606932",name:"矩形-右",font_class:"juxing-you1",unicode:"e72b",unicode_decimal:59179},{icon_id:"17606933",name:"矩形-通过",font_class:"juxing-tongguo1",unicode:"e72c",unicode_decimal:59180},{icon_id:"17606934",name:"矩形-错误",font_class:"juxing-cuowu1",unicode:"e72d",unicode_decimal:59181},{icon_id:"17606935",name:"矩形-减",font_class:"juxing-jian1",unicode:"e72e",unicode_decimal:59182},{icon_id:"17606936",name:"矩形-增",font_class:"juxing-zeng1",unicode:"e72f",unicode_decimal:59183},{icon_id:"17606937",name:"圆环-增",font_class:"yuanhuan-zeng1",unicode:"e730",unicode_decimal:59184},{icon_id:"17606938",name:"圆环-左",font_class:"yuanhuan-zuo1",unicode:"e731",unicode_decimal:59185},{icon_id:"17606939",name:"圆环-右",font_class:"yuanhuan-you1",unicode:"e732",unicode_decimal:59186},{icon_id:"17606940",name:"圆环-关闭",font_class:"yuanhuan-guanbi1",unicode:"e733",unicode_decimal:59187},{icon_id:"17606941",name:"矩形-左",font_class:"juxing-zuo1",unicode:"e734",unicode_decimal:59188},{icon_id:"17606942",name:"圆环-确认",font_class:"yuanhuan-queren1",unicode:"e735",unicode_decimal:59189},{icon_id:"17606943",name:"圆环-暂停",font_class:"yuanhuan-zanting1",unicode:"e736",unicode_decimal:59190},{icon_id:"17606972",name:"后退",font_class:"houtui",unicode:"e737",unicode_decimal:59191},{icon_id:"17606973",name:"方向上",font_class:"fangxiangshang",unicode:"e738",unicode_decimal:59192},{icon_id:"17606974",name:"方向右",font_class:"fangxiangyou",unicode:"e739",unicode_decimal:59193},{icon_id:"17606975",name:"方向下",font_class:"fangxiangxia",unicode:"e73a",unicode_decimal:59194},{icon_id:"17606976",name:"菜单左",font_class:"caidanzuo",unicode:"e73b",unicode_decimal:59195},{icon_id:"17606977",name:"快进",font_class:"kuaijin",unicode:"e73c",unicode_decimal:59196},{icon_id:"17606978",name:"上传",font_class:"shangchuan1",unicode:"e73d",unicode_decimal:59197},{icon_id:"17606979",name:"下载",font_class:"xiazai1",unicode:"e73e",unicode_decimal:59198},{icon_id:"17606980",name:"替换",font_class:"tihuan",unicode:"e73f",unicode_decimal:59199},{icon_id:"17606981",name:"方向左",font_class:"fangxiangzuo",unicode:"e740",unicode_decimal:59200},{icon_id:"17606982",name:"收缩",font_class:"shousuo",unicode:"e741",unicode_decimal:59201},{icon_id:"17606983",name:"菜单右",font_class:"caidanyou",unicode:"e742",unicode_decimal:59202},{icon_id:"17606984",name:"展开",font_class:"zhankai",unicode:"e743",unicode_decimal:59203},{icon_id:"17607037",name:"警告",font_class:"jinggao",unicode:"e744",unicode_decimal:59204},{icon_id:"17607038",name:"提醒-警告",font_class:"tixing-jinggao",unicode:"e745",unicode_decimal:59205},{icon_id:"17607039",name:"错误",font_class:"cuowu",unicode:"e746",unicode_decimal:59206},{icon_id:"17607040",name:"对话-警告",font_class:"duihua-jinggao",unicode:"e747",unicode_decimal:59207},{icon_id:"17607506",name:"同盾",font_class:"tongdun",unicode:"e748",unicode_decimal:59208},{icon_id:"17613521",name:"调用",font_class:"tiaoyong",unicode:"e749",unicode_decimal:59209},{icon_id:"17651395",name:"日志",font_class:"rizhi",unicode:"e74a",unicode_decimal:59210},{icon_id:"17651396",name:"日志-2",font_class:"rizhi-2",unicode:"e74b",unicode_decimal:59211},{icon_id:"17606294",name:"饼图",font_class:"bingtu",unicode:"e6a2",unicode_decimal:59042},{icon_id:"17606295",name:"案件管理",font_class:"anjianguanli",unicode:"e6a3",unicode_decimal:59043},{icon_id:"17606296",name:"布局",font_class:"buju",unicode:"e6a4",unicode_decimal:59044},{icon_id:"17606297",name:"保存",font_class:"baocun",unicode:"e6a5",unicode_decimal:59045},{icon_id:"17606298",name:"定位",font_class:"dingwei",unicode:"e6a6",unicode_decimal:59046},{icon_id:"17606299",name:"灯泡",font_class:"dengpao",unicode:"e6a7",unicode_decimal:59047},{icon_id:"17606300",name:"短信保护",font_class:"duanxinbaohu",unicode:"e6a8",unicode_decimal:59048},{icon_id:"17606301",name:"导出",font_class:"daochu",unicode:"e6a9",unicode_decimal:59049},{icon_id:"17606302",name:"安全",font_class:"anquan",unicode:"e6aa",unicode_decimal:59050},{icon_id:"17606303",name:"分组",font_class:"fenzu",unicode:"e6ab",unicode_decimal:59051},{icon_id:"17606304",name:"购物",font_class:"gouwu",unicode:"e6ac",unicode_decimal:59052},{icon_id:"17606305",name:"表格",font_class:"biaoge",unicode:"e6ad",unicode_decimal:59053},{icon_id:"17606306",name:"导入",font_class:"daoru",unicode:"e6ae",unicode_decimal:59054},{icon_id:"17606307",name:"公告",font_class:"gonggao",unicode:"e6af",unicode_decimal:59055},{icon_id:"17606308",name:"对话-2",font_class:"duihua-2",unicode:"e6b0",unicode_decimal:59056},{icon_id:"17606309",name:"关系图",font_class:"guanxitu",unicode:"e6b1",unicode_decimal:59057},{icon_id:"17606310",name:"对话",font_class:"duihua",unicode:"e6b2",unicode_decimal:59058},{icon_id:"17606311",name:"服务器",font_class:"fuwuqi",unicode:"e6b3",unicode_decimal:59059},{icon_id:"17606312",name:"复杂网络",font_class:"fuzawangluo",unicode:"e6b4",unicode_decimal:59060},{icon_id:"17606313",name:"标签",font_class:"biaoqian",unicode:"e6b5",unicode_decimal:59061},{icon_id:"17606314",name:"工具",font_class:"gongju",unicode:"e6b6",unicode_decimal:59062},{icon_id:"17606315",name:"建模-减",font_class:"jianmo-jian",unicode:"e6b7",unicode_decimal:59063},{icon_id:"17606316",name:"监控",font_class:"jiankong",unicode:"e6b8",unicode_decimal:59064},{icon_id:"17606317",name:"解锁",font_class:"jiesuo",unicode:"e6b9",unicode_decimal:59065},{icon_id:"17606318",name:"建模",font_class:"jianmo",unicode:"e6ba",unicode_decimal:59066},{icon_id:"17606319",name:"缓存",font_class:"huancun",unicode:"e6bb",unicode_decimal:59067},{icon_id:"17606320",name:"尽调精灵",font_class:"jintiaojingling",unicode:"e6bc",unicode_decimal:59068},{icon_id:"17606321",name:"建模-增",font_class:"jianmo-zeng",unicode:"e6bd",unicode_decimal:59069},{icon_id:"17606322",name:"卡片",font_class:"kapian",unicode:"e6be",unicode_decimal:59070},{icon_id:"17606323",name:"警报-2",font_class:"jingbao-2",unicode:"e6bf",unicode_decimal:59071},{icon_id:"17606324",name:"流程",font_class:"liucheng",unicode:"e6c0",unicode_decimal:59072},{icon_id:"17606325",name:"计费管理",font_class:"jifeiguanli",unicode:"e6c1",unicode_decimal:59073},{icon_id:"17606326",name:"链接",font_class:"lianjie",unicode:"e6c2",unicode_decimal:59074},{icon_id:"17606327",name:"接入管理",font_class:"jieruguanli",unicode:"e6c3",unicode_decimal:59075},{icon_id:"17606328",name:"警报",font_class:"jingbao",unicode:"e6c4",unicode_decimal:59076},{icon_id:"17606329",name:"录音",font_class:"luyin",unicode:"e6c5",unicode_decimal:59077},{icon_id:"17606330",name:"雷达图",font_class:"leidatu",unicode:"e6c6",unicode_decimal:59078},{icon_id:"17606331",name:"密码",font_class:"mima",unicode:"e6c7",unicode_decimal:59079},{icon_id:"17606332",name:"流量",font_class:"liuliang",unicode:"e6c8",unicode_decimal:59080},{icon_id:"17606333",name:"倒计时",font_class:"daojishi",unicode:"e6c9",unicode_decimal:59081},{icon_id:"17606334",name:"回收",font_class:"huishou",unicode:"e6ca",unicode_decimal:59082},{icon_id:"17606335",name:"任务",font_class:"renwu",unicode:"e6cb",unicode_decimal:59083},{icon_id:"17606336",name:"日历",font_class:"rili",unicode:"e6cc",unicode_decimal:59084},{icon_id:"17606338",name:"散点图",font_class:"sandiantu",unicode:"e6cd",unicode_decimal:59085},{icon_id:"17606340",name:"内容安全",font_class:"neironganquan",unicode:"e6ce",unicode_decimal:59086},{icon_id:"17606341",name:"漏斗图",font_class:"loudoutu",unicode:"e6cf",unicode_decimal:59087},{icon_id:"17606342",name:"情报监控",font_class:"qingbaojiankong",unicode:"e6d0",unicode_decimal:59088},{icon_id:"17606343",name:"模型管理",font_class:"moxingguanli",unicode:"e6d1",unicode_decimal:59089},{icon_id:"17606344",name:"企智查",font_class:"qizhicha",unicode:"e6d2",unicode_decimal:59090},{icon_id:"17606345",name:"上传",font_class:"shangchuan",unicode:"e6d3",unicode_decimal:59091},{icon_id:"17606346",name:"书签",font_class:"shuqian",unicode:"e6d4",unicode_decimal:59092},{icon_id:"17606347",name:"数据",font_class:"shuju",unicode:"e6d5",unicode_decimal:59093},{icon_id:"17606348",name:"收藏",font_class:"shoucang",unicode:"e6d6",unicode_decimal:59094},{icon_id:"17606349",name:"设置",font_class:"shezhi",unicode:"e6d7",unicode_decimal:59095},{icon_id:"17606350",name:"视觉关闭",font_class:"shijueguanbi",unicode:"e6d8",unicode_decimal:59096},{icon_id:"17606351",name:"视觉显示",font_class:"shijuexianshi",unicode:"e6d9",unicode_decimal:59097},{icon_id:"17606352",name:"首页",font_class:"shouye",unicode:"e6da",unicode_decimal:59098},{icon_id:"17606353",name:"提醒",font_class:"tixing",unicode:"e6db",unicode_decimal:59099},{icon_id:"17606354",name:"刷新-2",font_class:"shuaxin-2",unicode:"e6dc",unicode_decimal:59100},{icon_id:"17606355",name:"搜索",font_class:"sousuo",unicode:"e6dd",unicode_decimal:59101},{icon_id:"17606356",name:"通道",font_class:"tongdao",unicode:"e6de",unicode_decimal:59102},{icon_id:"17606357",name:"条形图",font_class:"tiaoxingtu",unicode:"e6df",unicode_decimal:59103},{icon_id:"17606358",name:"刷新",font_class:"shuaxin",unicode:"e6e0",unicode_decimal:59104},{icon_id:"17606359",name:"数据库",font_class:"shujuku",unicode:"e6e1",unicode_decimal:59105},{icon_id:"17606360",name:"图像",font_class:"tuxiang",unicode:"e6e2",unicode_decimal:59106},{icon_id:"17606361",name:"文件同步",font_class:"wenjiantongbu",unicode:"e6e3",unicode_decimal:59107},{icon_id:"17606362",name:"相机",font_class:"xiangji",unicode:"e6e4",unicode_decimal:59108},{icon_id:"17606363",name:"箱型图",font_class:"xiangxingtu",unicode:"e6e5",unicode_decimal:59109},{icon_id:"17606364",name:"文件搜索",font_class:"wenjiansousuo",unicode:"e6e6",unicode_decimal:59110},{icon_id:"17606365",name:"统计",font_class:"tongji",unicode:"e6e7",unicode_decimal:59111},{icon_id:"17606366",name:"项目",font_class:"xiangmu",unicode:"e6e8",unicode_decimal:59112},{icon_id:"17606367",name:"验证码",font_class:"yanzhengma",unicode:"e6e9",unicode_decimal:59113},{icon_id:"17606368",name:"信息校验",font_class:"xinxixiaoyan",unicode:"e6ea",unicode_decimal:59114},{icon_id:"17606369",name:"下载",font_class:"xiazai",unicode:"e6eb",unicode_decimal:59115},{icon_id:"17606370",name:"移动端",font_class:"yidongduan",unicode:"e6ec",unicode_decimal:59116},{icon_id:"17606371",name:"信贷服务",font_class:"xindaifuwu",unicode:"e6ed",unicode_decimal:59117},{icon_id:"17606372",name:"邮件",font_class:"youjian",unicode:"e6ee",unicode_decimal:59118},{icon_id:"17606373",name:"业务指标",font_class:"yewuzhibiao",unicode:"e6ef",unicode_decimal:59119},{icon_id:"17606374",name:"用户",font_class:"yonghu",unicode:"e6f0",unicode_decimal:59120},{icon_id:"17606375",name:"仪表盘",font_class:"yibiaopan",unicode:"e6f1",unicode_decimal:59121},{icon_id:"17606376",name:"应用中心",font_class:"yingyongzhongxin",unicode:"e6f2",unicode_decimal:59122},{icon_id:"17606377",name:"账户安全",font_class:"zhanghuanquan",unicode:"e6f3",unicode_decimal:59123},{icon_id:"17606378",name:"折线图",font_class:"zhexiantu",unicode:"e6f4",unicode_decimal:59124}]};const{glyphs:X}=H,Y=e=>{const{value:n,placeholder:i="请选择",onChange:c}=e,[a,o]=p.exports.useState(n);return p.exports.useEffect((()=>{o(n)}),[n]),y(j,{placement:"bottomLeft",overlayClassName:"icon-select",content:y("div",{className:"select-box",children:X.map((e=>y("div",{title:e.name,className:["select-box-item",(null==a?void 0:a.replace("icon-",""))==e.font_class?"active":null].join(" "),onClick:()=>(e=>{o(e.font_class),null==c||c(e.font_class)})(e),children:y($,{type:e.font_class,size:"20"})},e.font_class)))}),trigger:"focus",children:y(b,{value:a,placeholder:i,addonBefore:a?y($,{type:a,size:"22"}):null})})};var ee=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module"}),ne=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module"});const ie={list:"netdisk/manage/list",mkdir:"netdisk/manage/mkdir",token:"netdisk/manage/token",rename:"netdisk/manage/rename",download:"netdisk/manage/download",delete:"netdisk/manage/delete",check:"netdisk/manage/check",info:"netdisk/manage/info",mark:"netdisk/manage/mark",cut:"netdisk/manage/cut",copy:"netdisk/manage/copy"},ce=Object.values(ie);var ae=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",netdiskMange:ie,values:ce,default:ie}),oe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module"});const de={stat:"sys/serve/stat"},ue=Object.values(de);var se=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",sysServe:de,values:ue,default:de});const le={page:"sys/task/page",add:"sys/task/add",update:"sys/task/update",delete:"sys/task/delete",once:"sys/task/once",start:"sys/task/start",stop:"sys/task/stop",info:"sys/task/info"},_e=Object.values(le);const te={"./types.ts":ee,"./netdisk/index.ts":ne,"./netdisk/manage.ts":ae,"./sys/dept.ts":B,"./sys/index.ts":oe,"./sys/log.ts":L,"./sys/menu.ts":q,"./sys/online.ts":J,"./sys/role.ts":D,"./sys/serve.ts":se,"./sys/task.ts":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",sysTask:le,values:_e,default:le}),"./sys/user.ts":G},me=["/index.ts","./types.ts"],fe=Object.keys(te).reduce(((e,n)=>{if(me.some((e=>n.includes(e))))return e;const i=n.replace(/^\.\/(.*)\.\w+$/,"$1").replace(/[-_/][a-z]/gi,(e=>e.substring(1).toUpperCase())),c=te[n].default,a=Object.keys(c).reduce(((e,n)=>(e[n]=c[n].replace(/\//g,":"),e)),{});return e[i]=a,e}),{}),re=Object.keys(fe).flatMap((e=>Object.values(fe[e]))),ge=Object.keys(K).map((e=>({label:e,value:e}))),he=Object.keys(fe).reduce(((e,n)=>{const i=fe[n];return Object.keys(i).forEach((n=>{i[n].split(":").reduce(((e,n,i,c)=>{const a=c.slice(0,i+1).join(":"),o=e.findIndex((e=>(null==e?void 0:e.value)===a));if(Number.isInteger(o)&&-1!==o)return e[o].children;{const i={title:n,label:n,value:a,children:[]};return e.push(i),i.children}}),e)})),e}),[]),pe=(e,n=null)=>e.filter((e=>Object.is(e.parentId,n))).map((n=>({title:n.name,value:n.id,children:pe(e,n.id)}))),ye=e=>{const{visible:n,detail:i,onCancel:c,onSuccess:a}=e,o=p.exports.useRef(),d=T((async()=>{if(n){const e=await M();return[{title:"一级菜单",value:-1,children:pe(e)}]}}),[n]);p.exports.useEffect((()=>{var e;n&&(null==(e=o.current)||e.resetFields(),(async()=>{var e,n,c,a;if(null==i?void 0:i.id){const{menu:d}=await E({menuId:i.id});null==(a=null==o?void 0:o.current)||a.setFieldsValue(s(u({},d),{perms:null==(n=null==(e=d.perms)?void 0:e.split(","))?void 0:n.map((e=>e.split(":"))),parentId:null!=(c=d.parentId)?c:-1}))}})())}),[i,n]);const l=e=>{const n=e.value.split("__RC_CASCADER_SPLIT__").map((e=>e.split(":").at(-1)));return y(I,s(u({},e),{children:n.join(":")}))};return x(t,{formRef:o,title:((null==i?void 0:i.id)?"编辑":"新增")+"菜单",visible:n,initialValues:{type:0},layout:"horizontal",modalProps:{onCancel:c},onFinish:async e=>{const n=u({},e);if(2===e.type){const e=n.perms.flatMap((e=>e.join(":")));n.perms=re.filter((n=>e.some((e=>n.includes(e))))).join(",")}return(null==i?void 0:i.id)?(n.menuId=i.id,await N(n),v.success("修改成功")):(await R(n),v.success("创建成功")),a(),!0},children:[y(Q.Group,{name:"type",label:"菜单类型",options:[{label:"目录",value:0},{label:"菜单",value:1},{label:"权限",value:2}]}),y(A,{name:"name",label:"节点名称",placeholder:"请输入节点名称",rules:[{required:!0,message:"请输入节点名称!"}]}),y(z.Item,{name:"parentId",label:"上级节点",rules:[{required:!0,message:"请选择上级节点!"}],children:y(k,{treeDefaultExpandedKeys:(null==i?void 0:i.parentId)?[null==i?void 0:i.parentId]:[],treeData:d.value})}),y(_,{name:["type"],children:({type:e})=>2===e?null:y(A,{name:"router",label:"节点路由",rules:[{required:!0,message:"请输入正确的节点路由"}]})}),y(_,{name:["type"],children:({type:e})=>2===e?y(z.Item,{name:"perms",label:"权限",children:y(w,{multiple:!0,options:he,tagRender:l})}):null}),y(_,{name:["type"],children:({type:e})=>2===e?null:y(z.Item,{name:"icon",label:"节点图标",children:y(Y,{})})}),y(_,{name:["type"],children:({type:e})=>1===e?y(U,{options:ge,name:"viewPath",label:"节点路径"}):null}),y(_,{name:["type"],children:({type:e})=>1===e?y(Z,{name:"keepalive",label:"是否缓存"}):null}),y(_,{name:["type"],children:({type:e})=>2===e?y(Z,{name:"isShow",label:"是否显示"}):null}),y(V,{name:"orderNum",label:"排序号",initialValue:255})]})},be=(e,n=null)=>e.filter((e=>e.parentId===n)).map((n=>{const i=be(e,n.id);return i.length?s(u({},n),{children:i}):n})),je={0:"目录",1:"菜单",2:"权限"},xe=()=>{const[e,n]=p.exports.useState(!1),[i,c]=p.exports.useState(void 0),a=p.exports.useRef(),o=()=>{var e;null==(e=null==a?void 0:a.current)||e.reload()},d=()=>{c(void 0),n(!1)},u=[{title:"名称",dataIndex:"name",width:300,align:"left"},{title:"图标",dataIndex:"icon",width:80,align:"center"},{title:"节点路由",dataIndex:"router",width:240,align:"center"},{title:"类型",dataIndex:"type",align:"center",width:80,render:(e,{type:n})=>y(I,{color:"#1890ff",children:je[n]})},{title:"路由缓存",dataIndex:"keepalive",width:140,align:"center",render:(e,{keepalive:n,type:i})=>n&&1===i?y(S,{}):null},{title:"文件路由",dataIndex:"viewPath",width:180,align:"center"},{title:"权限",dataIndex:"perms",width:300,align:"center",render:(e,{perms:n})=>{var i;return null==(i=null==n?void 0:n.split(","))?void 0:i.map((e=>y(I,{color:"#1890ff",children:e},e)))}},{title:"排序号",dataIndex:"orderNum",width:80,align:"center"},{title:"更新时间",dataIndex:"updatedAt",width:300,align:"center"},{title:"操作",width:150,key:"option",valueType:"option",fixed:"right",align:"center",render:(e,i)=>[y("a",{onClick:()=>{c(i),n(!0)},children:"编辑"},"edit"),y(P,{placement:"left",title:"你确定要删除该菜单吗?",onConfirm:()=>(e=>{F({menuId:e.id}).finally(o)})(i),children:y("a",{children:"删除"})},"del")]}];return x(C,{children:[y(m,{actionRef:a,columns:u,size:"small",sticky:!0,rowKey:"id",scroll:{x:1500,y:600},pagination:{showQuickJumper:!0},search:!1,dateFormatter:"string",toolbar:{title:"菜单管理"},headerTitle:y(O,{type:"primary",onClick:()=>{c(void 0),n(!0)},children:"新增"}),request:async e=>{const n=await M();return{data:be(n),success:!0}}}),y(ye,{visible:e,detail:i,onCancel:d,onSuccess:()=>{d(),o()}})]})};export{xe as default};
